"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.attachContainer = exports.scopePerRequest = void 0;
/**
 * Koa middleware factory that will create and attach
 * a scope onto a content.
 *
 * @param  {AwilixContainer} container
 * @return {Function}
 */
function scopePerRequest(container) {
    return function scopePerRequestMiddleware(ctx, next) {
        ctx.state.container = container.createScope();
        return next();
    };
}
exports.scopePerRequest = scopePerRequest;
/**
 * Koa middleware factory that will simply attach the container
 * to the context (ctx) state, with no additional scoping.
 *
 * You should only use one of either scopePerRequest or attachContainer.
 *
 * @param  {AwilixContainer} container
 * @return {Function}
 */
function attachContainer(container) {
    return function attachContainerMiddleware(ctx, next) {
        ctx.state.container = container;
        return next();
    };
}
exports.attachContainer = attachContainer;
//# sourceMappingURL=scope-per-request.js.map